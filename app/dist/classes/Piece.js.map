{"version":3,"sources":["classes/Piece.js"],"names":["Piece","piece","pieceContent","position","colLength","rowLength","Error","horizontalStep","verticalSter","additionalParams","img","canvas","last","piecePosition","top","fabric","util","getRandomInt","left","set","on","console","log","add","renderAll"],"mappings":";;;;;;;;;;AAAA;;;IAGqBA,K;AACnB,iBAAYC,KAAZ,EAAmB;AAAA;;AACjB,SAAKC,YAAL,GAAoBD,KAApB;AACD;;;;iCAEY;AACX,aAAO,KAAKC,YAAZ;AACD;;;gCAEWC,Q,EAAU;AACpB,WAAKA,QAAL,GAAgBA,QAAhB;AACD;;;kCAEa;AACZ,aAAO,KAAKA,QAAZ;AACD;;;mCAEkC;AAAA,UAAxBC,SAAwB,QAAxBA,SAAwB;AAAA,UAAbC,SAAa,QAAbA,SAAa;;AACjC,UAAI,CAACD,SAAD,IAAc,CAACC,SAAnB,EAA8B;AAC5B,cAAM,IAAIC,KAAJ,CAAU,2CAAV,CAAN;AACD;AACD,WAAKC,cAAL,GAAsBH,SAAtB;AACA,WAAKI,YAAL,GAAoBH,SAApB;AACD;;;iCAEmBI,gB,EAAkBC,G,EAAK;AAAA,UACjCC,MADiC,GACDF,gBADC,CACjCE,MADiC;AAAA,UACzBC,IADyB,GACDH,gBADC,CACzBG,IADyB;AAAA,UACnBC,aADmB,GACDJ,gBADC,CACnBI,aADmB;;AAEzC,UAAMC,MAAMC,OAAOC,IAAP,CAAYC,YAAZ,CAAyB,CAAzB,EAA4B,GAA5B,CAAZ;AACA,UAAMC,OAAOH,OAAOC,IAAP,CAAYC,YAAZ,CAAyB,CAAzB,EAA4B,GAA5B,CAAb;;AAEAP,UAAIS,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;AACAT,UAAIS,GAAJ,CAAQ,KAAR,EAAeL,GAAf;AACAJ,UAAIS,GAAJ,CAAQ,MAAR,EAAgBD,IAAhB;AACAR,UAAIS,GAAJ,CAAQ,eAAR,EAAyBN,aAAzB;;AAEAH,UAAIU,EAAJ,CAAO,UAAP,EAAmB,YAAM;AAAEC,gBAAQC,GAAR,CAAYZ,IAAIG,aAAhB;AAAiC,OAA5D;;AAEAF,aAAOY,GAAP,CAAWb,GAAX;AACA,UAAIE,IAAJ,EAAU;AACRD,eAAOa,SAAP;AACD;AACF;;;;;;kBAzCkBxB,K","file":"Piece.js","sourcesContent":["/**\n * Created by dima on 27/05/2017.\n */\nexport default class Piece {\n  constructor(piece) {\n    this.pieceContent = piece;\n  }\n\n  getContent() {\n    return this.pieceContent;\n  }\n\n  setPosition(position) {\n    this.position = position;\n  }\n\n  getPosition() {\n    return this.position;\n  }\n\n  setSteps({ colLength, rowLength }) {\n    if (!colLength || !rowLength) {\n      throw new Error('Numbers of columns or rows is not defined');\n    }\n    this.horizontalStep = colLength;\n    this.verticalSter = rowLength;\n  }\n\n  static drawCallback(additionalParams, img) {\n    const { canvas, last, piecePosition } = additionalParams;\n    const top = fabric.util.getRandomInt(0, 600);\n    const left = fabric.util.getRandomInt(0, 600);\n\n    img.set('hasControls', false);\n    img.set('top', top);\n    img.set('left', left);\n    img.set('piecePosition', piecePosition);\n\n    img.on('modified', () => { console.log(img.piecePosition); });\n\n    canvas.add(img);\n    if (last) {\n      canvas.renderAll();\n    }\n  }\n}\n"]}